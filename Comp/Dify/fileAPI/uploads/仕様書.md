# RESTful File Storage API 仕様書

## 1. 概要

**RESTful File Storage API** はローカルファイルシステム上のファイルを管理するための API です。
ファイルの **一覧取得・アップロード・ダウンロード・削除** を行うことができます。

本 API は REST 原則に基づいて設計されています。

---

## 2. 基本情報

| 項目      | 内容                                |
| ------- | --------------------------------- |
| API 名   | RESTful File Storage API          |
| バージョン   | 1.0.0                             |
| ベース URL | `http://localhost:5000`           |
| エンコード   | UTF-8                             |
| データ形式   | JSON, multipart/form-data, binary |

---

## 3. リソースモデル

### File Resource

| 項目          | 型      | 説明         |
| ----------- | ------ | ---------- |
| fileId      | string | ファイル名（識別子） |
| binary data | binary | ファイル本体     |

---

## 4. エンドポイント一覧

| メソッド   | パス                | 説明             |
| ------ | ----------------- | -------------- |
| GET    | `/files`          | ファイル一覧取得       |
| POST   | `/files`          | ファイルアップロード     |
| GET    | `/files/{fileId}` | ファイル取得（ダウンロード） |
| DELETE | `/files/{fileId}` | ファイル削除         |

---

## 5. 詳細 API 仕様

---

### 5.1 GET `/files`

#### 機能

ファイル一覧を取得します。

#### リクエスト

なし

#### レスポンス例（200）

```json
[
  "sample.txt",
  "image.png"
]
```

#### ステータスコード

| コード | 説明           |
| --- | ------------ |
| 200 | 正常にファイル一覧を返却 |

---

### 5.2 POST `/files`

#### 機能

新規ファイルをアップロードします。

#### リクエスト形式

`multipart/form-data`

| フィールド | 型      | 必須 | 説明           |
| ----- | ------ | -- | ------------ |
| file  | binary | ○  | アップロードするファイル |

#### curl 例

```sh
curl -X POST http://localhost:5000/files \
  -F "file=@test.txt"
```

#### レスポンス例（201）

```json
{
  "fileId": "test.txt",
  "status": "uploaded"
}
```

#### ステータスコード

| コード | 説明                   |
| --- | -------------------- |
| 201 | アップロード成功             |
| 400 | 不正なリクエスト（file が無いなど） |

---

### 5.3 GET `/files/{fileId}`

#### 機能

指定したファイルをダウンロードします。

#### パスパラメータ

| 名称     | 型      | 必須 | 説明         |
| ------ | ------ | -- | ---------- |
| fileId | string | ○  | 取得したいファイル名 |

#### レスポンス

Content-Type: `application/octet-stream`

#### ステータスコード

| コード | 説明         |
| --- | ---------- |
| 200 | 正常取得       |
| 404 | ファイルが存在しない |

---

### 5.4 DELETE `/files/{fileId}`

#### 機能

指定ファイルを削除します。

#### パスパラメータ

| 名称     | 型      | 必須 | 説明        |
| ------ | ------ | -- | --------- |
| fileId | string | ○  | 削除対象ファイル名 |

#### レスポンス例（200）

```json
{
  "fileId": "test.txt",
  "status": "deleted"
}
```

#### ステータスコード

| コード | 説明         |
| --- | ---------- |
| 200 | 削除成功       |
| 404 | ファイルが存在しない |

---

## 6. エラーレスポンス形式

API のエラーは次の形式で返されます（任意仕様）：

```json
{
  "error": "File not found"
}
```

---

## 7. セキュリティ

現在はセキュリティなし。
必要であれば以下に対応可能：

* Basic 認証
* API Key 認証
* JWT トークン認証
* IP 制限
* CORS 制御

---

## 8. OpenAPI 仕様（JSON）

別途提供した OpenAPI JSON を参照してください。

---

## 9. ライセンス

本 API の設計書は自由に利用・改変できます。

